name: deploy-main-to-optiplex
on: 
  push:
    branches: 
      - main
jobs:
  - fetch-main-branch:
    runs-on: self-hosted
    steps:
      - run: cd /home/ocass/optiplex
      - run: git fetch https://github.com/revilon99/optiplex main

  - run-hello-world:
    runs-on: self-hosted
    steps:
      - run: cd /home/ocass/optiplex
      - run: cd hello-world
      - run: npm install --save
      - run: node index.js &
      - run: cd ..
